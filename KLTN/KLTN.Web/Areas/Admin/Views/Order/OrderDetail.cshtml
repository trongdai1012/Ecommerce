@model Tuple<OrderViewModel, IEnumerable<OrderDetailViewModel>, int>
@{
    ViewData["Title"] = "OrderDetail";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item">
                        <a asp-area="Admin" asp-controller="Home" asp-action="Index">Home</a>
                    </li>
                    <li class="breadcrumb-item active">Chi tiết đơn hàng</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<!-- /.box -->
<div class="col-12">
    <div class="card">
        @*@if (TempData[Constants.UpdateSuccess] != null)
            {
                <h3 class="alert alert-success lisproduct-alert">@TempData[Constants.UpdateSuccess]</h3>
            }*@
        <div class="card-header">
            <div class="col-md-12 row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <p><strong>Chi tiết đơn hàng @Model.Item1.Id</strong></p>
                    <p><strong>ID người mua: @Model.Item1.CreateBy</strong></p>
                    <p><strong>Thời gian mua: @Model.Item1.CreateAt</strong></p>
                    <p><strong>Tổng tiền: @Model.Item1.TotalPrice</strong></p>
                </div>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="card-body box-body table-responsive">
            @*<p class="text-right">
                    <a asp-area="Admin" asp-controller="Product" class="btn btn-primary">Thêm mới sản phẩm</a>
                </p>*@
            <table id="order-detail" class="table table-bordered columns-align-center table-hover" style="width: 100%">
                <thead>
                    <tr>
                        <th>Id đơn hàng</th>
                        <th>Tên sản phẩm</th>
                        <th>Ảnh</th>
                        <th>Giá</th>
                        <th>Số lượng</th>
                        <th>Tổng tiền</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in Model.Item2)
                    {
                        <tr>
                            <td>@item.OrderId</td>
                            <td>@item.ProductName</td>
                            <td><img src="/@item.Image "style="width:100px; height:70px"/></td>
                            <td>@item.Price</td>
                            <td>@item.Quantity</td>
                            <td>@item.TotalPrice</td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- /.box -->

@section scripts
    {
    <script src="~/lib/moment/moment.min.js" asp-append-version="true"></script>
    <script src="~/lib/datetime-moment/datetime-moment.js" asp-append-version="true"></script>
    <script>
        $.fn.dataTable.moment("DD/MM/YYYY HH:mm:ss");
        $.fn.dataTable.moment("DD/MM/YYYY");

        $("#order-detail").DataTable();
    </script>
}

